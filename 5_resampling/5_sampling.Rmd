---
title: "islr_chapter5"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Resampling methods 

### Lab: Cross-Validation and the Bootstrap

Using validation set approaches to estimate test error rates that result from fitting various linear models

In this case we will be taking 

```{r validation}

library(ISLR)
set.seed(1)
train <- sample(392,196)

# 

lm_fit <- lm(mpg~horsepower, data = Auto, subset = train)

attach(Auto)

# calculate the mse of the linear regression model
# the -train parts we are using the data that was not in
# the training model

mean((mpg-predict(lm_fit, Auto))[-train]^2)

# create quadratic and cubic regression models 

# quadratic regression
lm_fit2 <- lm(mpg~poly(horsepower, 2), data = Auto , subset = train)
mean((mpg-predict(lm_fit2, Auto))[-train]^2)

# cubic regression 
lm_fit3 <- lm(mpg~poly(horsepower, 3), data = Auto , subset = train)
mean((mpg-predict(lm_fit3, Auto))[-train]^2)


# change the training set and we will change the errors on the 
# validation set 

set.seed(2)
train <- sample(392, 196)

lm_fit <- lm(mpg~horsepower, subset = train)
mean((mpg-predict(lm_fit, Auto))[-train]^2)

lm_fit2 <- lm(mpg~poly(horsepower, 2), data = Auto , subset = train)
mean((mpg-predict(lm_fit2, Auto))[-train]^2)

lm_fit3 <- lm(mpg~poly(horsepower, 3), data = Auto , subset = train)
mean((mpg-predict(lm_fit3, Auto))[-train]^2)

```

Leave-one-out


## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
